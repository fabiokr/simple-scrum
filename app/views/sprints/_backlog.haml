%table#kanban
  %caption
    = "#{t('app.sprints.backlog')}"
  %thead
    %tr
      %th= "#{t('activerecord.models.story')}"
      %th= "#{t('app.sprints.todo')}"
      %th= "#{t('app.sprints.doing')}"
      %th= "#{t('app.sprints.done')}"
  %tbody
    - group_tasks_by_story(@sprint).each do |story, tasks|
      - printed_story = false
      - tasks.each do |task|
        %tr
          - if printed_story == false
            %td{:rowspan => tasks.size}= postit(story.name)
            - printed_story = true
          %td= print_task(task, Taskk::STATUS[0])
          %td= print_task(task, Taskk::STATUS[1])
          %td= print_task(task, Taskk::STATUS[2])

